[gd_scene load_steps=9 format=4 uid="uid://xusikbeivf1e"]

[ext_resource type="PackedScene" uid="uid://bdlkrwqu8gwex" path="res://Scenes/RootScenes/base_level.tscn" id="1_hp1p4"]
[ext_resource type="PackedScene" uid="uid://it048b436dos" path="res://Scenes/Entities/kagerou.tscn" id="2_ig7xt"]
[ext_resource type="TileSet" uid="uid://3alsterig0un" path="res://Resources/MistyLakeTileset.tres" id="2_tpo48"]
[ext_resource type="PackedScene" uid="uid://cnqv3pm4ay68m" path="res://Scenes/Props/vertical_mirror.tscn" id="3_wnh0l"]
[ext_resource type="PackedScene" path="res://Scenes/Props/camera_settings_component.tscn" id="4_ep3oe"]
[ext_resource type="PackedScene" uid="uid://brvxg82y1exes" path="res://Scenes/Dialogue/cutscene_component.tscn" id="5_04rd3"]
[ext_resource type="PackedScene" uid="uid://b1v5jnjdbs4wb" path="res://Scenes/Props/screen_shader.tscn" id="5_ag5au"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_muhqx"]
size = Vector2(16, 2048)

[node name="Level2" instance=ExtResource("1_hp1p4")]

[node name="TileMapLayersRight" type="Node2D" parent="Foreground" index="0"]
position = Vector2(480, 0)
scale = Vector2(-1, 1)

[node name="CollisionLayer" type="TileMapLayer" parent="Foreground/TileMapLayersRight" index="0"]
tile_map_data = PackedByteArray("AAAHAAwAAQAMAAIAAAAIAAwAAQANAAIAAAAJAAwAAQALAAIAAAAKAAwAAQAMAAIAAAALAAwAAQANAAIAAAAMAAwAAQALAAIAAAANAAwAAQAMAAIAAAAOAAwAAQAMAAIAAAADAAwAAQALAAIAAAAEAAwAAQARAAUAAAAFAAwAAQAMAAIAAAAGAAwAAQALAAIAAAD+/wwAAQAKAAIAAAD//wwAAQALAAIAAAAAAAwAAQALAAIAAAABAAwAAQANAAIAAAACAAwAAQANAAIAAAD+/w0AAQAKAAMAAAD+/w4AAQAKAAMAAAD+/xAAAQAKAAMAAAD+/w8AAQAKAAMAAAD+/xEAAQAKAAMAAAD+/xIAAQAKAAMAAAD+/xMAAQAKAAMAAAD//w0AAQALAAMAAAAAAA0AAQAMAAMAAAABAA0AAQAMAAMAAAACAA0AAQAMAAMAAAADAA0AAQAMAAMAAAAJAA0AAQAMAAMAAAAKAA0AAQAMAAMAAAALAA0AAQAMAAMAAAAMAA0AAQAMAAMAAAANAA0AAQAMAAMAAAAOAA0AAQAMAAMAAAAIAA0AAQAMAAMAAAAHAA0AAQAMAAMAAAAGAA0AAQAMAAMAAAAFAA0AAQAMAAMAAAAEAA0AAQAMAAMAAAAAAA4AAQAMAAQAAAABAA4AAQAMAAQAAAACAA4AAQAMAAQAAAADAA4AAQAMAAQAAAAEAA4AAQAMAAQAAAAFAA4AAQAMAAQAAAAGAA4AAQAMAAQAAAAHAA4AAQAMAAQAAAAIAA4AAQAMAAQAAAAJAA4AAQAMAAQAAAAKAA4AAQAMAAQAAAALAA4AAQAMAAQAAAAMAA4AAQAMAAQAAAANAA4AAQAMAAQAAAAOAA4AAQAMAAQAAAAOAA8AAQAMAAQAAAANAA8AAQAMAAQAAAAMAA8AAQAMAAQAAAALAA8AAQAMAAQAAAAKAA8AAQAMAAQAAAAJAA8AAQAMAAQAAAAIAA8AAQAMAAQAAAAHAA8AAQAMAAQAAAAGAA8AAQAMAAQAAAAFAA8AAQAMAAQAAAAEAA8AAQAMAAQAAAADAA8AAQAMAAQAAAACAA8AAQAMAAQAAAABAA8AAQAMAAQAAAAAAA8AAQAMAAQAAAD//w8AAQALAAQAAAAAABAAAQAMAAQAAAAAABEAAQAMAAQAAAAAABIAAQAMAAQAAAAAABMAAQAMAAQAAAABABAAAQAMAAQAAAABABEAAQAMAAQAAAABABIAAQAMAAQAAAABABMAAQAMAAQAAAACABAAAQAMAAQAAAACABEAAQAMAAQAAAACABIAAQAMAAQAAAACABMAAQAMAAQAAAADABAAAQAMAAQAAAADABEAAQAMAAQAAAADABIAAQAMAAQAAAADABMAAQAMAAQAAAAEABAAAQAMAAQAAAAEABEAAQAMAAQAAAAEABIAAQAMAAQAAAAEABMAAQAMAAQAAAAFABAAAQAMAAQAAAAFABEAAQAMAAQAAAAFABIAAQAMAAQAAAAFABMAAQAMAAQAAAAGABAAAQAMAAQAAAAGABEAAQAMAAQAAAAGABIAAQAMAAQAAAAGABMAAQAMAAQAAAAHABAAAQAMAAQAAAAHABEAAQAMAAQAAAAHABIAAQAMAAQAAAAHABMAAQAMAAQAAAAIABAAAQAMAAQAAAAIABEAAQAMAAQAAAAIABIAAQAMAAQAAAAIABMAAQAMAAQAAAAJABAAAQAMAAQAAAAJABEAAQAMAAQAAAAJABIAAQAMAAQAAAAJABMAAQAMAAQAAAAKABAAAQAMAAQAAAAKABEAAQAMAAQAAAAKABIAAQAMAAQAAAAKABMAAQAMAAQAAAALABAAAQAMAAQAAAALABEAAQAMAAQAAAALABIAAQAMAAQAAAALABMAAQAMAAQAAAAMABAAAQAMAAQAAAAMABEAAQAMAAQAAAAMABIAAQAMAAQAAAAMABMAAQAMAAQAAAANABAAAQAMAAQAAAANABEAAQAMAAQAAAANABIAAQAMAAQAAAANABMAAQAMAAQAAAAOABAAAQAMAAQAAAAOABEAAQAMAAQAAAAOABIAAQAMAAQAAAAOABMAAQAMAAQAAAD//w4AAQALAAQAAAD//xAAAQALAAQAAAD//xEAAQALAAQAAAD//xIAAQALAAQAAAD//xMAAQALAAQAAAAOAAkAAQAVAAIAAAANAAkAAQAVAAIAAAAMAAkAAQAVAAIAAAALAAkAAQAVAAIAAAAOAAYAAQAVAAIAAAANAAYAAQAVAAIAAAAMAAYAAQAVAAIAAAALAAYAAQAVAAIAAAAEAAkAAQAOAAIAAAAEAAoAAQAOAAUAAAAEAAsAAQAOAAUAAAABAAoAAQANAAQAAAAAAAoAAQANAAQAAAACAAoAAQANAAUAAAACAAkAAQAMAAIAAAABAAkAAQALAAIAAAAAAAkAAQALAAIAAAADAAkAAQANAAIAAAADAAoAAQANAAUAAAABAAsAAQANAAUAAAAAAAsAAQANAAUAAAD//wkAAQALAAIAAAD//woAAQANAAUAAAACAAsAAQALAAMAAAADAAsAAQALAAQAAAD//wsAAQALAAQAAAAOAAQAAQAVAAIAAAAMAAsAAQADAAEAAAALAAgAAQADAAAAAAALAAcAAQADAAAAAAAIAAIAAQAVAAIAAAAHAAIAAQAVAAIAAAAGAAIAAQAVAAIAAAAHAAEAAQAUAAIAAAAHAAAAAQAUAAIAAAA=")
tile_set = ExtResource("2_tpo48")

[node name="FGDecorLayer" type="TileMapLayer" parent="Foreground/TileMapLayersRight" index="1"]
tile_map_data = PackedByteArray("AAADAAsAAQANAAEAAAALAAoAAQAWAAEAAAANAAsAAQANAAEAAAABAAsAAQAMAAEAAAAGAAsAAQAMAAEAAAAKAAsAAQAMAAEAAAALAAsAAQANAAEAAAAHAAsAAQANAAEAAAAFAAsAAQAOAAEAAAAAAAsAAQAOAAEAAAAEAAsAAQAKAAEAAAACAAsAAQALAAEAAAAIAAsAAQAMAAEAAAAJAAsAAQALAAEAAAAOAAsAAQANAAEAAAD//wsAAQALAAEAAAD+/wsAAQALAAEAAAALAAUAAQADAAEAAAALAAQAAQADAAEAAAAMAAoAAQADAAEAAAAMAAsAAQAMAAEAAAD+/wgAAQALAAEAAAD//wgAAQAMAAEAAAAAAAgAAQALAAEAAAABAAgAAQAOAAEAAAACAAgAAQAMAAEAAAADAAgAAQANAAEAAAAEAAgAAQAMAAEAAAA=")
tile_set = ExtResource("2_tpo48")

[node name="TileMapLayersLeft" type="Node2D" parent="Foreground" index="1"]

[node name="CollisionLayer" type="TileMapLayer" parent="Foreground/TileMapLayersLeft" index="0"]
tile_map_data = PackedByteArray("AAAHAAwAAQAMAAIAAAAIAAwAAQANAAIAAAAJAAwAAQALAAIAAAAKAAwAAQAMAAIAAAALAAwAAQANAAIAAAAMAAwAAQALAAIAAAANAAwAAQAMAAIAAAAOAAwAAQAMAAIAAAADAAwAAQALAAIAAAAEAAwAAQARAAUAAAAFAAwAAQAMAAIAAAAGAAwAAQALAAIAAAD+/wwAAQAKAAIAAAD//wwAAQALAAIAAAAAAAwAAQALAAIAAAABAAwAAQANAAIAAAACAAwAAQANAAIAAAD+/w0AAQAKAAMAAAD+/w4AAQAKAAMAAAD+/xAAAQAKAAMAAAD+/w8AAQAKAAMAAAD+/xEAAQAKAAMAAAD+/xIAAQAKAAMAAAD+/xMAAQAKAAMAAAD//w0AAQALAAMAAAAAAA0AAQAMAAMAAAABAA0AAQAMAAMAAAACAA0AAQAMAAMAAAADAA0AAQAMAAMAAAAJAA0AAQAMAAMAAAAKAA0AAQAMAAMAAAALAA0AAQAMAAMAAAAMAA0AAQAMAAMAAAANAA0AAQAMAAMAAAAOAA0AAQAMAAMAAAAIAA0AAQAMAAMAAAAHAA0AAQAMAAMAAAAGAA0AAQAMAAMAAAAFAA0AAQAMAAMAAAAEAA0AAQAMAAMAAAAAAA4AAQAMAAQAAAABAA4AAQAMAAQAAAACAA4AAQAMAAQAAAADAA4AAQAMAAQAAAAEAA4AAQAMAAQAAAAFAA4AAQAMAAQAAAAGAA4AAQAMAAQAAAAHAA4AAQAMAAQAAAAIAA4AAQAMAAQAAAAJAA4AAQAMAAQAAAAKAA4AAQAMAAQAAAALAA4AAQAMAAQAAAAMAA4AAQAMAAQAAAANAA4AAQAMAAQAAAAOAA4AAQAMAAQAAAAOAA8AAQAMAAQAAAANAA8AAQAMAAQAAAAMAA8AAQAMAAQAAAALAA8AAQAMAAQAAAAKAA8AAQAMAAQAAAAJAA8AAQAMAAQAAAAIAA8AAQAMAAQAAAAHAA8AAQAMAAQAAAAGAA8AAQAMAAQAAAAFAA8AAQAMAAQAAAAEAA8AAQAMAAQAAAADAA8AAQAMAAQAAAACAA8AAQAMAAQAAAABAA8AAQAMAAQAAAAAAA8AAQAMAAQAAAD//w8AAQALAAQAAAAAABAAAQAMAAQAAAAAABEAAQAMAAQAAAAAABIAAQAMAAQAAAAAABMAAQAMAAQAAAABABAAAQAMAAQAAAABABEAAQAMAAQAAAABABIAAQAMAAQAAAABABMAAQAMAAQAAAACABAAAQAMAAQAAAACABEAAQAMAAQAAAACABIAAQAMAAQAAAACABMAAQAMAAQAAAADABAAAQAMAAQAAAADABEAAQAMAAQAAAADABIAAQAMAAQAAAADABMAAQAMAAQAAAAEABAAAQAMAAQAAAAEABEAAQAMAAQAAAAEABIAAQAMAAQAAAAEABMAAQAMAAQAAAAFABAAAQAMAAQAAAAFABEAAQAMAAQAAAAFABIAAQAMAAQAAAAFABMAAQAMAAQAAAAGABAAAQAMAAQAAAAGABEAAQAMAAQAAAAGABIAAQAMAAQAAAAGABMAAQAMAAQAAAAHABAAAQAMAAQAAAAHABEAAQAMAAQAAAAHABIAAQAMAAQAAAAHABMAAQAMAAQAAAAIABAAAQAMAAQAAAAIABEAAQAMAAQAAAAIABIAAQAMAAQAAAAIABMAAQAMAAQAAAAJABAAAQAMAAQAAAAJABEAAQAMAAQAAAAJABIAAQAMAAQAAAAJABMAAQAMAAQAAAAKABAAAQAMAAQAAAAKABEAAQAMAAQAAAAKABIAAQAMAAQAAAAKABMAAQAMAAQAAAALABAAAQAMAAQAAAALABEAAQAMAAQAAAALABIAAQAMAAQAAAALABMAAQAMAAQAAAAMABAAAQAMAAQAAAAMABEAAQAMAAQAAAAMABIAAQAMAAQAAAAMABMAAQAMAAQAAAANABAAAQAMAAQAAAANABEAAQAMAAQAAAANABIAAQAMAAQAAAANABMAAQAMAAQAAAAOABAAAQAMAAQAAAAOABEAAQAMAAQAAAAOABIAAQAMAAQAAAAOABMAAQAMAAQAAAD//w4AAQALAAQAAAD//xAAAQALAAQAAAD//xEAAQALAAQAAAD//xIAAQALAAQAAAD//xMAAQALAAQAAAAOAAkAAQAVAAIAAAANAAkAAQAVAAIAAAAMAAkAAQAVAAIAAAALAAkAAQAVAAIAAAAOAAYAAQAVAAIAAAANAAYAAQAVAAIAAAAMAAYAAQAVAAIAAAALAAYAAQAVAAIAAAAEAAkAAQAOAAIAAAAEAAoAAQAOAAUAAAAEAAsAAQAOAAUAAAABAAoAAQANAAQAAAAAAAoAAQANAAQAAAACAAoAAQANAAUAAAACAAkAAQAMAAIAAAABAAkAAQALAAIAAAAAAAkAAQALAAIAAAADAAkAAQANAAIAAAADAAoAAQANAAUAAAABAAsAAQANAAUAAAAAAAsAAQANAAUAAAD//wkAAQALAAIAAAD//woAAQANAAUAAAACAAsAAQALAAMAAAADAAsAAQALAAQAAAD//wsAAQALAAQAAAAOAAQAAQAVAAIAAAAMAAsAAQADAAEAAAALAAgAAQADAAAAAAALAAcAAQADAAAAAAAIAP7/AQAVAAIAAAAHAP7/AQAVAAIAAAAGAP7/AQAVAAIAAAAHAP3/AQAUAAIAAAAHAPz/AQAUAAIAAAA=")
tile_set = ExtResource("2_tpo48")

[node name="FGDecorLayer" type="TileMapLayer" parent="Foreground/TileMapLayersLeft" index="1"]
tile_map_data = PackedByteArray("AAADAAsAAQANAAEAAAALAAoAAQAWAAEAAAANAAsAAQANAAEAAAABAAsAAQAMAAEAAAAGAAsAAQAMAAEAAAAKAAsAAQAMAAEAAAALAAsAAQANAAEAAAAHAAsAAQANAAEAAAAFAAsAAQAOAAEAAAAAAAsAAQAOAAEAAAAEAAsAAQAKAAEAAAACAAsAAQALAAEAAAAIAAsAAQAMAAEAAAAJAAsAAQALAAEAAAAOAAsAAQANAAEAAAD//wsAAQALAAEAAAD+/wsAAQALAAEAAAALAAUAAQADAAEAAAALAAQAAQADAAEAAAAMAAoAAQADAAEAAAAMAAsAAQAMAAEAAAD+/wgAAQALAAEAAAD//wgAAQAMAAEAAAAAAAgAAQALAAEAAAABAAgAAQAOAAEAAAACAAgAAQAMAAEAAAADAAgAAQANAAEAAAAEAAgAAQAMAAEAAAA=")
tile_set = ExtResource("2_tpo48")

[node name="InvisibleWalls" type="Node2D" parent="Foreground" index="2"]

[node name="WallLeft" type="StaticBody2D" parent="Foreground/InvisibleWalls" index="0"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Foreground/InvisibleWalls/WallLeft" index="0"]
position = Vector2(-8, 8)
shape = SubResource("RectangleShape2D_muhqx")

[node name="WallRight" type="StaticBody2D" parent="Foreground/InvisibleWalls" index="1"]
position = Vector2(496, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Foreground/InvisibleWalls/WallRight" index="0"]
position = Vector2(-8, 8)
shape = SubResource("RectangleShape2D_muhqx")

[node name="Kagerou" parent="Entities/ControlledCharacter" index="0" instance=ExtResource("2_ig7xt")]
position = Vector2(138, 169)

[node name="VerticalMirror" parent="Entities" index="1" node_paths=PackedStringArray("starterCharacter", "cameraSettingComponent") instance=ExtResource("3_wnh0l")]
position = Vector2(240, 0)
starterCharacter = NodePath("../ControlledCharacter/Kagerou")
cameraSettingComponent = NodePath("CameraSettingsComponent")

[node name="CameraSettingsComponent" parent="Entities/VerticalMirror" index="4" instance=ExtResource("4_ep3oe")]
limitLeft = 0.0
limitRight = 480.0
newOffset = Vector2(0, -15)

[node name="ShaderCanvasLayer" parent="." index="4" instance=ExtResource("5_ag5au")]

[node name="Dialogue" parent="HUD" index="0" node_paths=PackedStringArray("dialogueComponents")]
dialogueComponents = [NodePath("CutsceneComponent")]

[node name="CutsceneComponent" parent="HUD/Dialogue" index="5" instance=ExtResource("5_04rd3")]
